diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IVVAS.framework/Headers/IVVAS.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IVVAS.framework/Headers/IVVAS.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IVVAS.framework/Headers/IVVAS.h	2021-06-18 15:05:36.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IVVAS.framework/Headers/IVVAS.h	2021-07-08 10:45:33.000000000 +0800
@@ -10,8 +10,8 @@
 #import <IoTVideo/IVNetwork_p2p.h>
 
 /* âš ï¸Automatically generated by script, do not manually edit! */
-#define kIVVASVersion "1.4(200d) Release" /* Commit:f982911 */
-#define kIVVASCompileDate "2021-06-18 14:53:48"
+#define kIVVASVersion "1.4(2070) Debug" /* Commit:1f1d31f */
+#define kIVVASCompileDate "2021-07-08 10:45:31"
 
 /// å¥—é¤æœåŠ¡ç±»å‹
 typedef NS_ENUM(NSInteger, IVVASServiceType) {
@@ -143,7 +143,7 @@
 /// è¿‡æœŸçš„æ–¹æ³•
 @interface IVVAS (Deprecated)
 
-/// è·å–äº‘å­˜è§†é¢‘ä¿¡æ¯
+/// è·å–äº‘å­˜è§†é¢‘ä¿¡æ¯ï¼ˆå·²è¿‡æœŸï¼‰
 /// - ç”¨äºç»ˆç«¯ç”¨æˆ·åœ¨äº‘å­˜é¡µé¢ä¸­å¯¹äº‘å­˜æœåŠ¡æ—¶é—´å†…çš„æ—¥æœŸè¿›è¡Œæ ‡æ³¨ï¼ŒåŒºåˆ†å‡ºæ˜¯å¦æœ‰äº‘å­˜è§†é¢‘æ–‡ä»¶ã€‚
 /// @param deviceId è®¾å¤‡id
 /// @param timezone ç›¸å¯¹äº0æ—¶åŒºçš„ç§’æ•°ï¼Œä¾‹å¦‚ä¸œå…«åŒº28800
@@ -151,7 +151,7 @@
 /// @deprecated Use `-getVideoDateListWithDeviceId:timezone:completionHandler:` instead.
 - (void)getVideoListWithDeviceId:(NSString *)deviceId timezone:(NSInteger)timezone responseHandler:(IVNetworkResponseHandler _Nullable)responseHandler API_DEPRECATED("Use -getVideoDateListWithDeviceId:timezone:completionHandler: instead", ios(2.0,9.0));
 
-/// è·å–äº‘å­˜å›æ”¾m3u8åˆ—è¡¨
+/// è·å–äº‘å­˜å›æ”¾m3u8åˆ—è¡¨ï¼ˆå·²è¿‡æœŸï¼‰
 ///- ç»ˆç«¯ç”¨æˆ·è·å–äº‘å­˜å‚¨çš„m3u8åˆ—è¡¨è¿›è¡Œå›æ”¾ï¼ŒåŒæ—¶æ ¹æ®è¿”å›çš„åˆ—è¡¨å¯¹æ—¶é—´è½´è¿›è¡Œæ¸²æŸ“ã€‚
 /// @param deviceId è®¾å¤‡id
 /// @param timezone  ç›¸å¯¹äº0æ—¶åŒºçš„ç§’æ•°ï¼Œä¾‹å¦‚ä¸œå…«åŒº28800
@@ -161,7 +161,7 @@
 /// @deprecated Use `-getVideoPlayListWithDeviceId:startTime:endTime:completionHandler:` instead.
 - (void)getVideoPlaybackListWithDeviceId:(NSString *)deviceId timezone:(NSInteger)timezone startTime:(NSTimeInterval)startTime endTime:(NSTimeInterval)endTime responseHandler:(IVNetworkResponseHandler _Nullable)responseHandler API_DEPRECATED("Use -getVideoPlayListWithDeviceId:startTime:endTime:completionHandler: instead", ios(2.0,9.0));
 
-/// è·å–äº‹ä»¶åˆ—è¡¨
+/// è·å–äº‹ä»¶åˆ—è¡¨ï¼ˆå·²è¿‡æœŸï¼‰
 /// @param deviceId è®¾å¤‡id
 /// @param startTime äº‹ä»¶å‘Šè­¦å¼€å§‹UTCæ—¶é—´,å•ä½ç§’
 /// @param endTime äº‹ä»¶å‘Šè­¦ç»“æŸUTCæ—¶é—´ï¼Œå½“ä¸º0æ—¶ï¼Œé»˜è®¤å½“å¤©çš„23ç‚¹59åˆ†59ç§’
Binary files ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IVVAS.framework/IVVAS and ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IVVAS.framework/IVVAS differ
Binary files ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IVVAS.framework/Info.plist and ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IVVAS.framework/Info.plist differ
Only in ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IVVAS.framework: _CodeSignature
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVAVDefine.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVAVDefine.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVAVDefine.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVAVDefine.h	2021-07-08 10:45:33.000000000 +0800
@@ -9,11 +9,11 @@
 #import <Foundation/Foundation.h>
 #import <AVFoundation/AVFoundation.h>
 #import "IVConnection.h"
+#import "IVError.h"
 
 #ifndef IVAVDefine_h
 #define IVAVDefine_h
 
-
 /// æ’­æ”¾å™¨çŠ¶æ€
 typedef NS_ENUM(NSInteger, IVPlayerStatus) {
     /// åœæ­¢ä¸­...
@@ -30,8 +30,10 @@
     IVPlayerStatusPlaying       = 4,
     /// å·²æš‚åœ
     IVPlayerStatusPaused        = 5,
-    /// å¿«è¿›ä¸­...
-    IVPlayerStatusFastForward   = 6,
+    /// å¿«è¿›ä¸­...ï¼ˆå·²è¿‡æœŸï¼‰
+    IVPlayerStatusFastForward API_DEPRECATED("No longer supported, use `-playbackSpeed` instated.", ios(2.0, 8.0)) = 6,
+    /// è·³è½¬ä¸­...
+    IVPlayerStatusSeeking       = 7,
 };
 
 /// å¤šåª’ä½“ç±»å‹
@@ -76,6 +78,8 @@
 
 /// éŸ³é¢‘ç¼–ç ç±»å‹
 typedef NS_ENUM(NSUInteger, IVAudioCodecType) {
+    /// PCM
+    IVAudioCodecTypePCM = 0,
     /// G711A
     IVAudioCodecTypeG711A  = 1,
     /// G711U
@@ -88,6 +92,8 @@
     IVAudioCodecTypeAMR    = 5,
     /// ADPCMA
     IVAudioCodecTypeADPCMA = 6,
+    /// OPUS
+    IVAudioCodecTypeOPUS   = 7,
 };
 
 /// éŸ³é¢‘æ¯ä¸ªé‡‡æ ·çš„ä½å®½
@@ -180,29 +186,4 @@
     uint32_t            videoHeight;       //!< è§†é¢‘åƒç´ é«˜åº¦
 } IVAVHeader;
 
-/// æ’­æ”¾å™¨é”™è¯¯ç  [21030-21049]
-typedef NS_ENUM(NSUInteger, IVPlayerError) {
-    /// æ–¹æ³•é€‰æ‹©å™¨æ— å“åº”ã€æœªå®ç°åè®®æ–¹æ³•
-    IVPlayerError_NoRespondsToSelector     = 21030,
-    /// å‚æ•°é”™è¯¯
-    IVPlayerError_InvalidParameter         = 21031,
-    /// å½•åƒåˆ—è¡¨ä¸ºç©º
-    IVPlayerError_PlaybackListEmpty        = 21032,
-    /// å½•åƒåˆ—è¡¨æ•°æ®å¼‚å¸¸
-    IVPlayerError_PlaybackDataErr          = 21033,
-    /// APPæ­£åœ¨å½•åˆ¶éŸ³è§†é¢‘æµ
-    IVPlayerError_RecorderIsRunning        = 21034,
-    /// è§†é¢‘åˆ†è¾¨ç‡å·²æ”¹å˜
-    IVPlayerError_VideoResolutionChanged   = 21035,
-    /// ç¼–ç å™¨æš‚ä¸å¯ç”¨
-    IVPlayerError_EncoderNotAvailableNow   = 21036,
-    /// ä¸æ”¯æŒçš„å½•åƒåˆ—è¡¨ç‰ˆæœ¬
-    IVPlayerError_PlaybackListVerErr       = 21037,
-    /// è®¾å¤‡ç«¯æ“ä½œå¤±è´¥
-    IVPlayerError_DeviceOperationFailed    = 21038,
-    /// å½•åˆ¶å™¨æš‚ä¸å¯ç”¨
-    IVPlayerError_RecorderNotAvailableNow  = 21039,
-};
-
-
 #endif /* IVAVDefine_h */
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVAVRecordable.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVAVRecordable.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVAVRecordable.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVAVRecordable.h	2021-07-08 10:45:33.000000000 +0800
@@ -47,7 +47,17 @@
 @property (nonatomic, assign, readonly) BOOL isRecording;
 
 /// å¼€å§‹å½•åƒ
-- (void)startRecordingWithHeader:(IVAVHeader)avheader channel:(uint32_t)channel savePath:(NSString *)savePath completionHandler:(void(^)(NSString * _Nullable savePath, NSError * _Nullable error))completionHandler;
+- (void)startRecordingWithHeader:(IVAVHeader)avheader
+                         channel:(uint32_t)channel
+                        savePath:(NSString *)savePath
+               completionHandler:(void(^)(NSString * _Nullable savePath, NSError * _Nullable error))completionHandler;
+
+/// å¼€å§‹å½•åƒ, å¸¦æ—¶é•¿å›è°ƒ
+- (void)startRecordingWithHeader:(IVAVHeader)avheader
+                         channel:(uint32_t)channel
+                        savePath:(NSString *)savePath
+                durationCallback:(void(^)(NSTimeInterval duration))durationCallback
+               completionHandler:(void(^)(NSString * _Nullable savePath, NSError * _Nullable error))completionHandler;
 
 /// åœæ­¢å½•åƒ
 - (void)stopRecording;
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVConnection.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVConnection.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVConnection.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVConnection.h	2021-07-08 10:45:33.000000000 +0800
@@ -7,6 +7,7 @@
 //
 
 #import <Foundation/Foundation.h>
+#import "IVError.h"
 
 NS_ASSUME_NONNULL_BEGIN
 
@@ -42,22 +43,15 @@
     IVConnStatusConnected       = 2,
 };
 
-/// è¿æ¥é”™è¯¯ [21020-21029]
-typedef NS_ENUM(NSUInteger, IVConnError) {
-    /// APPç«¯é€šé“è¿æ¥æ•°å·²è¾¾ä¸Šé™, è§`MAX_CONNECTION_NUM`
-    IVConnError_ExceedsMaxNumber  = 21020,
-    /// é‡å¤çš„è¿æ¥é€šé“, å·²å­˜åœ¨ç›¸åŒ`deviceId + sourceId`
-    IVConnError_Duplicate         = 21021,
-    /// å»ºç«‹è¿æ¥å¤±è´¥
-    IVConnError_ConnectFailed     = 21022,
-    /// è¿æ¥å·²æ–­å¼€/è¿æ¥å¤±è´¥
-    IVConnError_Disconnected      = 21023,
-    /// ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®é•¿åº¦è¶…å‡ºä¸Šé™ @c `MAX_PKG_BYTES`
-    IVConnError_ExceedsMaxLength  = 21024,
-    /// å½“å‰è¿æ¥æš‚ä¸å¯ç”¨
-    IVConnError_NotAvailableNow   = 21025,
-    /// å‘é€ç”¨æˆ·æ•°æ®å¤±è´¥
-    IVConnError_SendDataFailed    = 21026,
+/// è¿æ¥è¿‡ç¨‹å­çŠ¶æ€
+/// @note éƒ¨åˆ†è®¾å¤‡/åœºæ™¯æ˜¯æ²¡æœ‰å­çŠ¶æ€çš„
+typedef NS_ENUM(NSInteger, IVConnectingSubstate) {
+    /// æœåŠ¡å™¨å·²æ”¶åˆ°è¿æ¥è¯·æ±‚ï¼Œæ­£åœ¨å”¤é†’è®¾å¤‡
+    IVConnectingSubstate_WakingUpDev  = 1,
+    /// è®¾å¤‡å·²æ”¶åˆ°å”¤é†’é€šçŸ¥ï¼Œå¼€å§‹æ¡æ‰‹è¿‡ç¨‹
+    IVConnectingSubstate_Handshaking  = 2,
+    /// æ¡æ‰‹è¿‡ç¨‹å®Œæˆï¼Œè¿æ¥é€šé“å·²å°±ç»ª
+    IVConnectingSubstate_ConnectReady = 3,
 };
 
 @class IVConnection;
@@ -73,6 +67,12 @@
 /// @param status çŠ¶æ€
 - (void)connection:(IVConnection *)connection didUpdateStatus:(IVConnStatus)status;
 
+/// è¿æ¥è¿‡ç¨‹å­çŠ¶æ€æ›´æ–°
+/// @note éƒ¨åˆ†è®¾å¤‡/åœºæ™¯æ˜¯æ²¡æœ‰å­çŠ¶æ€çš„ï¼Œæ­¤ä»£ç†æ–¹æ³•ä¸ä¸€å®šæœ‰å›è°ƒ
+/// @param connection è¿æ¥å®ä¾‹
+/// @param substate è¿æ¥è¿‡ç¨‹å­çŠ¶æ€
+- (void)connection:(IVConnection *)connection didUpdateConnectingSubstate:(IVConnectingSubstate)substate;
+
 /// æ•°æ®æ¥æ”¶é€Ÿç‡
 /// @param connection è¿æ¥å®ä¾‹
 /// @param speed æ¥æ”¶é€Ÿç‡(å­—èŠ‚/ç§’)
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVDeviceMgr.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVDeviceMgr.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVDeviceMgr.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVDeviceMgr.h	2021-07-08 10:45:33.000000000 +0800
@@ -21,7 +21,7 @@
 
 /// æŸ¥è¯¢è®¾å¤‡æ–°å›ºä»¶ç‰ˆæœ¬ä¿¡æ¯
 /// @param deviceId è®¾å¤‡id
-/// @param currentVersion å½“å‰ç‰ˆæœ¬å· nil: é»˜è®¤ä¸ºå½“å‰ç‰ˆæœ¬å· å½“é’ˆå¯¹ç‰¹å®šç‰ˆæœ¬çš„å‡çº§æ—¶ä¸ºå¿…å¡«
+/// @param currentVersion å½“å‰è®¾å¤‡ç‰ˆæœ¬å·ã€‚nil: é»˜è®¤ä¸ºå½“å‰è®¾å¤‡ç‰ˆæœ¬å·ã€‚æ–°ç‰ˆæœ¬å›ºä»¶å¯ä»¥æŒ‡å®šæŸäº›ç‰ˆæœ¬å¯ä»¥å‡çº§ï¼Œè¿™ç§åœºæ™¯ä¸‹ä¸ä¼ ç‰ˆæœ¬ å’Œ ä¸åœ¨æŒ‡å®šç‰ˆæœ¬åˆ—è¡¨é‡Œé¢å°±å‡çº§ä¸äº†
 /// @param language è¯­è¨€ nilï¼šé»˜è®¤ç³»ç»Ÿè¯­è¨€
 /// @param responseHandler å›è°ƒ
 + (void)queryDeviceNewVersionWidthDevieId:(NSString *)deviceId currentVersion:(NSString * _Nullable)currentVersion language:(NSString * _Nullable)language responseHandler:(IVNetworkResponseHandler)responseHandler;
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVError.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVError.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVError.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVError.h	2021-07-08 10:45:33.000000000 +0800
@@ -11,9 +11,8 @@
 #ifndef IVError_h
 #define IVError_h
 
-
 /**
-    ====== é”™è¯¯ç åŒºé—´åˆ†å¸ƒ =====
+    ====== å¹³å°é”™è¯¯ç åˆ†å¸ƒæ¦‚è§ˆ =====
     @li [8000-8499]      Asrvé”™è¯¯ç 
     @li [8500-8699]      Csrvé”™è¯¯ç (å¯¹æ¥Asrv)
     @li [8799-9999]       é¢„ç•™
@@ -25,40 +24,30 @@
     @li [15000-15999]   UPGç›¸å…³
     @li [16000-16999]   å¸®åŠ©ä¸­å¿ƒ
     @li [17000-17999]    ç¬¬ä¸‰æ–¹è°ƒç”¨
-    @li [20000-20999]    P2Pé”™è¯¯ç 
-    @li [21000-21999]   iOS SDKé”™è¯¯
+    @li [20000-20150]    P2Pé”™è¯¯ç 
+    @li [20151-20199]   å®¢æˆ·è‡ªå®šä¹‰é”™è¯¯
+    @li [20200-20999]    P2Pé”™è¯¯ç 
+ ğŸ‘‰  @li   [21000-21999]    iOS SDKé”™è¯¯  ğŸ‘ˆ
     @li [22000-22999]   Android SDKé”™è¯¯ç 
     @li [23000-23999]   PC SDKé”™è¯¯ç 
     @li [24000-24999]   DEV SDKé”™è¯¯ç 
  */
 
-/**
-    ===== iOS SDKé”™è¯¯ç  =====
-    @li [21000-21019]      æ¶ˆæ¯é”™è¯¯, è¯¦è§`IVMessageError`
-    @li [21020-21029]      è¿æ¥é”™è¯¯, è¯¦è§`IVConnError`
-    @li [21030-21049]      æ’­æ”¾é”™è¯¯, è¯¦è§`IVPlayerError`
-    @li [21050-21059]      é¢„ç•™
-    @li [21060-21079]      ä¸‹è½½é”™è¯¯, è¯¦è§`IVDowloadError`
-    @li [21080-21099]      ACKé”™è¯¯, è¯¦è§`IVAckErr`
- */
 typedef NSUInteger IVErrCode;
 typedef NSUInteger IVReasonCode;
 
 
-/**
-    ===== è®¾å¤‡ç«¯ACKé”™è¯¯ =====
- */
-typedef NS_ENUM(IVErrCode, IVAckErr) {
-    IVAckErr_NotSupport     = 21080, //!< è®¾å¤‡ç«¯ä¸æ”¯æŒè¯¥å‘½ä»¤
-    IVAckErr_ParameterErr   = 21081, //!< è®¾å¤‡ç«¯åˆ¤å®šå‚æ•°é”™è¯¯
-    IVAckErr_UnknownErr     = 21082, //!< è®¾å¤‡ç«¯å‘ç”ŸæœªçŸ¥é”™è¯¯
-    IVAckErr_NoResponse     = 21083, //!< è®¾å¤‡ç«¯æ— å“åº”(å¦‚å›ºä»¶ç‰ˆæœ¬æœªæ”¯æŒï¼Œç½‘ç»œæ•…éšœã€ç¨‹åºæ•…éšœ)
+/// å¸¸è§æœåŠ¡å™¨é”™è¯¯ç  [8000-8499]
+typedef NS_ENUM(IVErrCode, IVASrvErr) {
+    IVASrvErr_dst_offline                   = 8000, //!< ç›®æ ‡ç¦»çº¿
+    IVASrvErr_dst_notexsit                  = 8002, //!< ç›®æ ‡ä¸å­˜åœ¨
+    IVASrvErr_dst_error_relation            = 8003, //!< éæ³•å…³ç³»é“¾
+    IVASrvErr_binderror_dev_usr_has_bind    = 8022, //!< è®¾å¤‡å·²ç»ç»‘å®šæ­¤ç”¨æˆ·
+    IVASrvErr_binderror_dev_has_bind_other  = 8023, //!< è®¾å¤‡å·²ç»ç»‘å®šå…¶ä»–ç”¨æˆ·
+    IVASrvErr_binderror_customer_diffrent   = 8024, //!< è®¾å¤‡çš„å®¢æˆ·IDä¸ç”¨æˆ·çš„å®¢æˆ·IDä¸ä¸€è‡´
 };
 
-
-/**
-    ===== P2Pé”™è¯¯ç  =====
- */
+/// P2Pé”™è¯¯ç  [20000-20999]
 typedef NS_ENUM(IVErrCode, IVTermErr) {
     //!< ç»ˆç«¯ä½¿ç”¨
     IVTermErr_msg_send_peer_timeout          = 20001, //!< æ¶ˆæ¯å‘é€ç»™å¯¹æ–¹è¶…æ—¶
@@ -89,7 +78,7 @@
     IVTermErr_msg_gdm_handle_no_cb_registered = 20104, //!< è®¾å¤‡æœªæ³¨å†Œç›¸åº”çš„ACtionå›è°ƒå‡½æ•°
     IVTermErr_msg_gdm_handle_buildin_prowritable_error = 20105,//!< è®¾å¤‡ä¸å…è®¸é€šè¿‡å±€åŸŸç½‘ä¿®æ”¹å†…ç½®å¯å†™å¯¹è±¡
 
-    IVTermErr_msg_saas_hangup_code_invalid    = 20135, //!< è®¾å¤‡ç«¯åº”ç”¨å±‚æŒ‚æ–­ä½†æ˜¯é”™è¯¯ç è¶…è¿‡èŒƒå›´
+    IVTermErr_msg_saas_hungup_code_invalid    = 20135, //!< è®¾å¤‡saaså±‚æŒ‚æ–­ä½†æ˜¯é”™è¯¯ç ç»™çš„è¶…è¿‡èŒƒå›´
 
     //å½•åƒæ–‡ä»¶ç›¸å…³é”™è¯¯
     IVTermErr_msg_wait_option_timeout_hangup  = 20136, //!< ä¸‹è½½æ–‡ä»¶è¿‡ç¨‹ä¸­ï¼Œè®¾å¤‡SDKç­‰å¾…æ–°çš„æ“ä½œè¶…æ—¶å¯¼è‡´æŒ‚æ–­
@@ -101,18 +90,115 @@
     IVTermErr_msg_user_cmd_type_error         = 20141, //!< ä¸æ”¯æŒçš„ user cmd ç±»å‹
     IVTermErr_msg_user_cmd_version_error      = 20142, //!< ä¸æ”¯æŒçš„ user cmd ç‰ˆæœ¬
     IVTermErr_msg_user_cmd_param_error        = 20143, //!< user cmd å‚æ•°è¶…å‡ºèŒƒå›´
+    IVTermErr_msg_user_cmd_option_mismatch    = 20145, //!< æ“ä½œå’ŒçŠ¶æ€ä¸åŒ¹é…ï¼Œæ¯”å¦‚å¯¹è®²å·²ç»å¼€å¯ä½†æ˜¯åˆå¼€å¯
+    IVTermErr_msg_user_cmd_saas_err_invalid   = 20146, //!< saaså±‚è¿”å›çš„é”™è¯¯ç è¶…è¿‡èŒƒå›´
 };
 
-/**
-   ===== å¸¸è§æœåŠ¡å™¨é”™è¯¯ç  =====
-*/
-typedef NS_ENUM(IVErrCode, IVASrvErr) {
-    IVASrvErr_dst_offline = 8000, //!< ç›®æ ‡ç¦»çº¿
-    IVASrvErr_dst_notexsit = 8002, //!< ç›®æ ‡ä¸å­˜åœ¨
-    IVASrvErr_dst_error_relation = 8003, //!< éæ³•å…³ç³»é“¾
-    IVASrvErr_binderror_dev_usr_has_bind = 8022, //!< è®¾å¤‡å·²ç»ç»‘å®šæ­¤ç”¨æˆ·
-    IVASrvErr_binderror_dev_has_bind_other = 8023, //!< è®¾å¤‡å·²ç»ç»‘å®šå…¶ä»–ç”¨æˆ·
-    IVASrvErr_binderror_customer_diffrent = 8024, //!< è®¾å¤‡çš„å®¢æˆ·IDä¸ç”¨æˆ·çš„å®¢æˆ·IDä¸ä¸€è‡´
+/// iOSæ¶ˆæ¯ç®¡ç†é”™è¯¯ç  [21000-21019]
+typedef NS_ENUM(IVErrCode, IVMessageError) {
+    /// æ¶ˆæ¯é‡å¤ã€æ¶ˆæ¯æ­£åœ¨å‘é€
+    IVMessageError_duplicate        = 21000,
+    /// æ¶ˆæ¯å‘é€å¤±è´¥
+    IVMessageError_sendFailed       = 21001,
+    /// æ¶ˆæ¯å“åº”è¶…æ—¶
+    IVMessageError_timeout          = 21002,
+    /// è·å–ç‰©æ¨¡å‹å¤±è´¥
+    IVMessageError_GetGdmDataErr    = 21003,
+    /// æ¥æ”¶ç‰©æ¨¡å‹å¤±è´¥
+    IVMessageError_RcvGdmDataErr    = 21004,
+    /// é€ä¼ æ•°æ®ç»™æœåŠ¡å™¨å¤±è´¥
+    IVMessageError_SendPassSrvErr   = 21005,
+    /// é€ä¼ æ•°æ®ç»™è®¾å¤‡å¤±è´¥
+    IVMessageError_SendPassDevErr   = 21006,
+    /// æ²¡æœ‰æ‰¾åˆ°å›è°ƒ
+    IVMessageError_NotFoundCallback = 21007,
+    /// ä¿¡ä»¤æ•°æ®é•¿åº¦è¶…å‡ºä¸Šé™ï¼Œ @c `MAX_DATA_SIZE`
+    IVMessageError_ExceedsMaxLength = 21008,
+};
+
+/// iOSè¿æ¥é”™è¯¯ [21020-21029]
+typedef NS_ENUM(IVErrCode, IVConnError) {
+    /// APPç«¯é€šé“è¿æ¥æ•°å·²è¾¾ä¸Šé™, è§`MAX_CONNECTION_NUM`
+    IVConnError_ExceedsMaxNumber  = 21020,
+    /// é‡å¤çš„è¿æ¥é€šé“, å·²å­˜åœ¨ç›¸åŒ`deviceId + sourceId`
+    IVConnError_Duplicate         = 21021,
+    /// å»ºç«‹è¿æ¥å¤±è´¥
+    IVConnError_ConnectFailed     = 21022,
+    /// è¿æ¥å·²æ–­å¼€/è¿æ¥å¤±è´¥
+    IVConnError_Disconnected      = 21023,
+    /// ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®é•¿åº¦è¶…å‡ºä¸Šé™ @c `MAX_PKG_BYTES`
+    IVConnError_ExceedsMaxLength  = 21024,
+    /// å½“å‰è¿æ¥æš‚ä¸å¯ç”¨
+    IVConnError_NotAvailableNow   = 21025,
+    /// å‘é€ç”¨æˆ·æ•°æ®å¤±è´¥
+    IVConnError_SendDataFailed    = 21026,
+};
+
+/// iOSæ’­æ”¾å™¨é”™è¯¯ç  [21030-21049]
+typedef NS_ENUM(IVErrCode, IVPlayerError) {
+    /// æ–¹æ³•é€‰æ‹©å™¨æ— å“åº”ã€æœªå®ç°åè®®æ–¹æ³•
+    IVPlayerError_NoRespondsToSelector     = 21030,
+    /// å‚æ•°é”™è¯¯
+    IVPlayerError_InvalidParameter         = 21031,
+    /// å½•åƒåˆ—è¡¨ä¸ºç©º
+    IVPlayerError_PlaybackListEmpty        = 21032,
+    /// å½•åƒåˆ—è¡¨æ•°æ®å¼‚å¸¸
+    IVPlayerError_PlaybackDataErr          = 21033,
+    /// APPæ­£åœ¨å½•åˆ¶éŸ³è§†é¢‘æµ
+    IVPlayerError_RecorderIsRunning        = 21034,
+    /// è§†é¢‘åˆ†è¾¨ç‡å·²æ”¹å˜
+    IVPlayerError_VideoResolutionChanged   = 21035,
+    /// ç¼–ç å™¨æš‚ä¸å¯ç”¨
+    IVPlayerError_EncoderNotAvailableNow   = 21036,
+    /// ä¸æ”¯æŒçš„å½•åƒåˆ—è¡¨ç‰ˆæœ¬
+    IVPlayerError_PlaybackListVerErr       = 21037,
+    /// è®¾å¤‡ç«¯æ“ä½œå¤±è´¥
+    IVPlayerError_DeviceOperationFailed    = 21038,
+    /// å½•åˆ¶å™¨æš‚ä¸å¯ç”¨
+    IVPlayerError_RecorderNotAvailableNow  = 21039,
+    /// å½“å‰çŠ¶æ€ä¸‹ä¸å…è®¸è¯¥æ“ä½œ
+    IVPlayerError_OperationNotAllowedNow   = 21040,
+    /// éŸ³è§†é¢‘ä¿¡æ¯ç›¸å…³å‚æ•°å¼‚å¸¸
+    IVPlayerError_AVInformationAbnormal    = 21041,
+};
+
+/// iOSä¸‹è½½é”™è¯¯ç  [21060-21079]
+typedef NS_ENUM(IVErrCode, IVDownloadError) {
+    /// ä¸‹è½½å™¨æ­£å¿™ï¼Œè‹¥è¦ä¸‹è½½å…¶ä»–æ–‡ä»¶ï¼Œè¯·å…ˆæš‚åœå½“å‰ä»»åŠ¡
+    IVDownloadError_DownloaderBusy    = 21060,
+    /// æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œæ–‡ä»¶è¢«åˆ é™¤ã€å­˜å‚¨è®¾å¤‡æ‹”å‡º
+    IVDownloadError_FileUnavailable   = 21061,
+    /// æ–­ç‚¹ç»­ä¼ offsetå¤§äºæ–‡ä»¶å¤§å°fileSize
+    IVDownloadError_IncorrectOffset   = 21062,
+    /// æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼Œæ–‡ä»¶æƒé™ã€æ–‡ä»¶è¢«åˆ é™¤ã€å­˜å‚¨è®¾å¤‡æ‹”å‡º
+    IVDownloadError_FileOpenFailed    = 21063,
+    /// æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œæ–‡ä»¶è¢«åˆ é™¤ï¼Œå­˜å‚¨è®¾å¤‡æ‹”å‡º
+    IVDownloadError_FileNotFound      = 21064,
+    /// è®¾å¤‡ç¨‹åº/æ¨¡å—é€€å‡ºã€æ— æ³•ç»§ç»­ä¼ è¾“
+    IVDownloadError_ProcessExited     = 21065,
+    /// æ¥æ”¶çš„æ•°æ®å¤§å°ä¸ç­‰äºæ–‡ä»¶æ€»å¤§å°
+    IVDownloadError_DataSizeAbnormal  = 21070,
+    /// è®¾å¤‡ç«¯å‘ç”ŸæœªçŸ¥é”™è¯¯
+    IVDownloadError_DevUnknownError   = 21071,
+    /// è®¾å¤‡ç«¯æ— å“åº”ï¼ˆå¦‚å›ºä»¶ç‰ˆæœ¬æœªæ”¯æŒä¸‹è½½ï¼Œç½‘ç»œæ•…éšœã€ç¨‹åºæ•…éšœï¼‰
+    IVDownloadError_DevNoResponse     = 21072,
+};
+
+/// iOSè®¾å¤‡ç«¯ACKé”™è¯¯ [21080-21089]
+typedef NS_ENUM(IVErrCode, IVAckErr) {
+    IVAckErr_NotSupport         = 21080, //!< è®¾å¤‡ç«¯ä¸æ”¯æŒè¯¥å‘½ä»¤
+    IVAckErr_ParameterErr       = 21081, //!< è®¾å¤‡ç«¯åˆ¤å®šå‚æ•°é”™è¯¯
+    IVAckErr_UnknownErr         = 21082, //!< è®¾å¤‡ç«¯å‘ç”ŸæœªçŸ¥é”™è¯¯
+    IVAckErr_NoResponse         = 21083, //!< è®¾å¤‡ç«¯æ— å“åº”(å¦‚å›ºä»¶ç‰ˆæœ¬æœªæ”¯æŒï¼Œç½‘ç»œæ•…éšœã€ç¨‹åºæ•…éšœ)
+    IVAckErr_DeviceBusy         = 21084, //!< è®¾å¤‡ç«¯æ­£åœ¨å¤„ç†æŒ‡ä»¤ï¼Œä¸æ¥å—æ–°çš„æŒ‡ä»¤
+};
+
+/// iOSé…ç½‘é”™è¯¯ç   [21080-21089]
+typedef NS_ENUM(IVErrCode, IVNetCfgErr) {
+    IVNetCfgErr_GetTokenErr     = 21100, // è·å–Tokenå¤±è´¥
+    IVNetCfgErr_TokenExpired    = 21101, // Tokenå·²è¿‡æœŸ
+    IVNetCfgErr_DevStatusErr    = 21102, // è®¾å¤‡éå¯ç»‘å®šçŠ¶æ€
+    IVNetCfgErr_ServerErr       = 21103, // æœåŠ¡å™¨æŠ¥é”™
 };
 
 
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVFileDownloader.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVFileDownloader.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVFileDownloader.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVFileDownloader.h	2021-07-08 10:45:33.000000000 +0800
@@ -7,6 +7,7 @@
 //
 
 #import "IVConnection.h"
+#import "IVError.h"
 
 NS_ASSUME_NONNULL_BEGIN
 
@@ -22,27 +23,6 @@
     IVDownloaderStatusLoading       = 3,
 };
 
-/// ä¸‹è½½é”™è¯¯ç  [21060-21079]
-typedef NS_ENUM(NSUInteger, IVDownloadError) {
-    /// ä¸‹è½½å™¨æ­£å¿™ï¼Œè‹¥è¦ä¸‹è½½å…¶ä»–æ–‡ä»¶ï¼Œè¯·å…ˆæš‚åœå½“å‰ä»»åŠ¡
-    IVDownloadError_DownloaderBusy    = 21060,
-    /// æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œæ–‡ä»¶è¢«åˆ é™¤ã€å­˜å‚¨è®¾å¤‡æ‹”å‡º
-    IVDownloadError_FileUnavailable   = 21061,
-    /// æ–­ç‚¹ç»­ä¼ offsetå¤§äºæ–‡ä»¶å¤§å°fileSize
-    IVDownloadError_IncorrectOffset   = 21062,
-    /// æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼Œæ–‡ä»¶æƒé™ã€æ–‡ä»¶è¢«åˆ é™¤ã€å­˜å‚¨è®¾å¤‡æ‹”å‡º
-    IVDownloadError_FileOpenFailed    = 21063,
-    /// æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œæ–‡ä»¶è¢«åˆ é™¤ï¼Œå­˜å‚¨è®¾å¤‡æ‹”å‡º
-    IVDownloadError_FileNotFound      = 21064,
-    /// è®¾å¤‡ç¨‹åº/æ¨¡å—é€€å‡ºã€æ— æ³•ç»§ç»­ä¼ è¾“
-    IVDownloadError_ProcessExited     = 21065,
-    /// æ¥æ”¶çš„æ•°æ®å¤§å°ä¸ç­‰äºæ–‡ä»¶æ€»å¤§å°
-    IVDownloadError_DataSizeAbnormal  = 21070,
-    /// è®¾å¤‡ç«¯å‘ç”ŸæœªçŸ¥é”™è¯¯
-    IVDownloadError_DevUnknownError   = 21071,
-    /// è®¾å¤‡ç«¯æ— å“åº”ï¼ˆå¦‚å›ºä»¶ç‰ˆæœ¬æœªæ”¯æŒä¸‹è½½ï¼Œç½‘ç»œæ•…éšœã€ç¨‹åºæ•…éšœï¼‰
-    IVDownloadError_DevNoResponse     = 21072,
-};
 
 /// æ–‡ä»¶ä¸‹è½½å™¨
 @interface IVFileDownloader : IVConnection
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVLanNetConfig.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVLanNetConfig.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVLanNetConfig.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVLanNetConfig.h	2021-07-08 10:45:33.000000000 +0800
@@ -48,7 +48,7 @@
 ///
 /// @param name Wi-Fiåç§°
 /// @param pwd Wi-Fiå¯†ç 
-/// @param token é…ç½‘token
+/// @param token é…ç½‘tokenï¼Œé€šè¿‡`+[IVNetConfig getToken:]`åŠ`+[IVNetConfig getToken:callback:]`è·å–
 /// @param deviceId è®¾å¤‡id
 /// @param completionHandler é…ç½‘ç»“æœå›è°ƒ
 - (void)sendWifiName:(NSString *)name
@@ -72,7 +72,7 @@
 /// @param name Wi-Fiåç§°
 /// @param pwd Wi-Fiå¯†ç 
 /// @param language è®¾å¤‡è¯­è¨€
-/// @param token é…ç½‘token
+/// @param token é…ç½‘tokenï¼Œé€šè¿‡`+[IVNetConfig getToken:]`åŠ`+[IVNetConfig getToken:callback:]`è·å–
 /// @param extraInfo é¢å¤–ä¿¡æ¯
 /// @param deviceId è®¾å¤‡id
 /// @param completionHandler é…ç½‘ç»“æœå›è°ƒ
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVMessageMgr.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVMessageMgr.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVMessageMgr.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVMessageMgr.h	2021-07-08 10:45:33.000000000 +0800
@@ -7,6 +7,7 @@
 //
 
 #import <Foundation/Foundation.h>
+#import "IVError.h"
 
 NS_ASSUME_NONNULL_BEGIN
 
@@ -20,28 +21,6 @@
 /// å¤šæ¬¡æ•°æ®å“åº”å›è°ƒ     âš ï¸ä¸éœ€è¦å“åº”æˆ–ç»“æŸå“åº”åç”±APPå¼€å‘è€…è®¾ç½® `*finished = YES`ï¼ŒSDKå†…éƒ¨å°±ä¼šç§»é™¤å“åº”ç›‘å¬ï¼
 typedef void(^IVMsgMultiRspCallback)(NSData * _Nullable data, NSError * _Nullable error, BOOL *finished);
 
-/// æ¶ˆæ¯ç®¡ç†é”™è¯¯ç  [21000-21019]
-typedef NS_ENUM(NSUInteger, IVMessageError) {
-    /// æ¶ˆæ¯é‡å¤ã€æ¶ˆæ¯æ­£åœ¨å‘é€
-    IVMessageError_duplicate        = 21000,
-    /// æ¶ˆæ¯å‘é€å¤±è´¥
-    IVMessageError_sendFailed       = 21001,
-    /// æ¶ˆæ¯å“åº”è¶…æ—¶
-    IVMessageError_timeout          = 21002,
-    /// è·å–ç‰©æ¨¡å‹å¤±è´¥
-    IVMessageError_GetGdmDataErr    = 21003,
-    /// æ¥æ”¶ç‰©æ¨¡å‹å¤±è´¥
-    IVMessageError_RcvGdmDataErr    = 21004,
-    /// é€ä¼ æ•°æ®ç»™æœåŠ¡å™¨å¤±è´¥
-    IVMessageError_SendPassSrvErr   = 21005,
-    /// é€ä¼ æ•°æ®ç»™è®¾å¤‡å¤±è´¥
-    IVMessageError_SendPassDevErr   = 21006,
-    /// æ²¡æœ‰æ‰¾åˆ°å›è°ƒ
-    IVMessageError_NotFoundCallback = 21007,
-    /// ä¿¡ä»¤æ•°æ®é•¿åº¦è¶…å‡ºä¸Šé™ï¼Œ @c `MAX_DATA_SIZE`
-    IVMessageError_ExceedsMaxLength = 21008,
-};
-
 @class IVMessageMgr;
 
 /// æ¶ˆæ¯ä»£ç†åè®®
@@ -223,10 +202,12 @@
 /// @param deviceId è®¾å¤‡ID
 /// @param data æ•°æ®å†…å®¹ï¼Œdata.lengthä¸èƒ½è¶…è¿‡`MAX_DATA_SIZE`
 /// @param timeout è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤è¶…æ—¶æ—¶é—´å¯ä½¿ç”¨@c `IVMsgTimeoutAuto`
+/// @param wakeupDevice æ˜¯å¦å”¤é†’è®¾å¤‡ï¼Œä¸å¸¦æ­¤å‚æ•°çš„æ–¹æ³•å‡é»˜è®¤YESï¼ˆå³å”¤é†’è®¾å¤‡ï¼‰
 /// @param multiRspHandler å¤šæ¬¡å›è°ƒå¤„ç†, è°ƒç”¨æ–¹åº”åœ¨ç»“æŸå›è°ƒæ—¶è®¾ç½®`*finished=YES`ä»¥ç§»é™¤å›è°ƒç›‘å¬
 - (void)sendDataToDevice:(NSString *)deviceId
                     data:(NSData *)data
                  timeout:(NSTimeInterval)timeout
+            wakeupDevice:(BOOL)wakeupDevice
          multiRspHandler:(nullable IVMsgMultiRspCallback)multiRspHandler;
 
 /// ä¿¡ä»¤æ•°æ®é€ä¼ ç»™è®¾å¤‡ï¼ˆè‡ªå®šä¹‰å›ä¼ æ–¹å¼ï¼‰
@@ -236,11 +217,13 @@
 /// @param deviceId è®¾å¤‡ID
 /// @param data æ•°æ®å†…å®¹ï¼Œdata.lengthä¸èƒ½è¶…è¿‡`MAX_DATA_SIZE`
 /// @param timeout è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤è¶…æ—¶æ—¶é—´å¯ä½¿ç”¨@c `IVMsgTimeoutAuto`
+/// @param wakeupDevice æ˜¯å¦å”¤é†’è®¾å¤‡ï¼Œä¸å¸¦æ­¤å‚æ•°çš„æ–¹æ³•å‡é»˜è®¤YESï¼ˆå³å”¤é†’è®¾å¤‡ï¼‰
 /// @param expectResponse ã€YESã€‘é¢„æœŸæœ‰æ•°æ®å›ä¼  ï¼›ã€NOã€‘å¿½ç•¥æ•°æ®å›ä¼ 
 /// @param completionHandler å®Œæˆå›è°ƒ
 - (void)sendDataToDevice:(NSString *)deviceId
                     data:(NSData *)data
                  timeout:(NSTimeInterval)timeout
+            wakeupDevice:(BOOL)wakeupDevice
           expectResponse:(BOOL)expectResponse
        completionHandler:(nullable IVMsgDataCallback)completionHandler;
 
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVNetConfig.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVNetConfig.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVNetConfig.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVNetConfig.h	2021-07-08 10:45:33.000000000 +0800
@@ -8,41 +8,23 @@
 
 #import <Foundation/Foundation.h>
 #import "IVConstant.h"
-
-@class IVLanNetConfig, IVQRCodeNetConfig;
+#import "IVError.h"
 
 NS_ASSUME_NONNULL_BEGIN
 
 typedef IVLanguageCode IVNetConfigLanguage;
 
-/// è®¾å¤‡ä¸Šçº¿é€šçŸ¥å®Œæ•´æ¨¡å‹
-@interface IVDeviceOnline : NSObject
-/// device id
-@property (nonatomic, copy) NSString *deviceID;
-/// errorCode
-/// @code
-/// | errorCode | è§£é‡Š
-/// | --------- | -----------------------------------
-/// | -1        | é…ç½‘tokenå·²ç»è¿‡æœŸï¼ˆ5åˆ†é’Ÿï¼‰
-/// | 0         | æˆåŠŸ
-/// | 8022      | è®¾å¤‡å’Œç”¨æˆ·å·²ç»ç»‘å®š
-/// | 8023      | è®¾å¤‡å·²ç»ç»‘å®šå…¶ä»–ç”¨æˆ·
-/// | 8024      | è®¾å¤‡çš„å®¢æˆ·IDä¸ç”¨æˆ·çš„å®¢æˆ·IDä¸ä¸€è‡´
-/// | 8027      | è®¾å¤‡ä¸Šä¼ çš„tokenæ ¡éªŒå¤±è´¥
-/// | 8028      | è®¾å¤‡ä¸Šä¼ çš„jsonè§£æå¤±è´¥
-@property (nonatomic, assign) NSInteger errorCode;
-/// æ—¶é—´æˆ³
-@property (nonatomic, assign) NSTimeInterval time;
-/// é…ç½‘token
-@property (nonatomic, copy) NSString *token;
-/// è®¾å¤‡uuid
-@property (nonatomic, copy) NSString *uuid;
-/// é¢„ç•™
-@property (nonatomic, copy) NSString *reserve;
-@end
+/// è·å–é…ç½‘Tokenå›è°ƒ
+typedef void(^IVNetCfgTokenCallback)(NSString * _Nullable token, NSError * _Nullable error);
+
+/// æŸ¥è¯¢é…ç½‘ç»“æœå›è°ƒ/è®¾å¤‡ä¸Šçº¿ä¿¡æ¯
+/// deviceId: è®¾å¤‡id
+/// error:  ã€nilã€‘é…ç½‘æˆåŠŸï¼›ã€énilã€‘é…ç½‘å¤±è´¥ï¼Œ@c `IVNetCfgErr`
+typedef void(^IVDeviceOnlineCallback)(NSString * _Nullable deviceId, NSError * _Nullable error);
+
+@class IVLanNetConfig, IVQRCodeNetConfig;
+
 
-typedef void(^IVDeviceOnlineCallback)(NSString * _Nullable deviceId, NSError *error);
-typedef void(^IVDeviceOnlineFullCallback)(IVDeviceOnline *deviceOnline);
 /// é…ç½‘ç®¡ç†
 @interface IVNetConfig : NSObject
 
@@ -53,46 +35,34 @@
 @property(class, nonatomic, strong, readonly) IVQRCodeNetConfig *QRCode;
 
 
-///// å±€åŸŸç½‘é…ç½‘
-//+ (IVLanNetConfig *)lan;
-//
-///// äºŒç»´ç é…ç½‘
-//+ (IVQRCodeNetConfig *)QRCode;
-
-/// é…ç½‘ç»“æœå›è°ƒ/è®¾å¤‡ä¸Šçº¿ä¿¡æ¯
-///
-/// deviceId: è®¾å¤‡id
-///
-/// errorCode: é”™è¯¯ç 
-/// @code
-/// | errorCode | è§£é‡Š
-/// | --------- | -----------------------------------
-/// | -1        | é…ç½‘tokenå·²ç»è¿‡æœŸï¼ˆ5åˆ†é’Ÿï¼‰
-/// | 0         | æˆåŠŸ
-/// | 8022      | è®¾å¤‡å’Œç”¨æˆ·å·²ç»ç»‘å®š
-/// | 8023      | è®¾å¤‡å·²ç»ç»‘å®šå…¶ä»–ç”¨æˆ·
-/// | 8024      | è®¾å¤‡çš„å®¢æˆ·IDä¸ç”¨æˆ·çš„å®¢æˆ·IDä¸ä¸€è‡´
-/// | 8027      | è®¾å¤‡ä¸Šä¼ çš„tokenæ ¡éªŒå¤±è´¥
-/// | 8028      | è®¾å¤‡ä¸Šä¼ çš„jsonè§£æå¤±è´¥
-/// @endcode
-+ (void)registerDeviceOnlineCallback:(IVDeviceOnlineCallback)onlineCallback;
-
-/// å®Œæ•´çš„é…ç½‘ç»“æœå›è°ƒ/è®¾å¤‡ä¸Šçº¿ä¿¡æ¯
-+ (void)registerDeviceOnlineFullCallback:(IVDeviceOnlineFullCallback)onlineCallback;
+/// ç›‘å¬é…ç½‘ç»“æœå›è°ƒ
+/// @param completionHandler ç»“æœå›è°ƒ
++ (void)observeNetCfgResult:(IVDeviceOnlineCallback)completionHandler;
 
-/// é”€æ¯ç›‘å¬block
-+ (void)unregisterDeviceOnline;
+/// ç§»é™¤é…ç½‘ç›‘å¬
++ (void)removeObserver;
 
 /// è·å–äºŒç»´ç /AP é…ç½‘æ‰€éœ€è¦çš„é…ç½‘ Token
+/// Tokenè¿‡æœŸæ—¶é—´é»˜è®¤300ç§’
 /// @param completionHandler å›è°ƒ
-+ (void)getToken:(void(^)(NSString * _Nullable token, NSError * _Nullable error))completionHandler;
-                    
-/**
- * é€šè¿‡webç»‘å®šæˆåŠŸåï¼Œå¿«é€Ÿè®¢é˜…è®¾å¤‡
- *  @param token è®¢é˜…çš„è®¾å¤‡è®¿é—®token
- *  @param deviceId è®¾å¤‡ID
- *  @return æ˜¯å¦æˆåŠŸ
- */
++ (void)getToken:(IVNetCfgTokenCallback)completionHandler;
+   
+/// è·å–äºŒç»´ç /AP é…ç½‘æ‰€éœ€è¦çš„é…ç½‘ Token, è‡ªå®šä¹‰tokenè¿‡æœŸæ—¶é—´
+/// Tokenè¿‡æœŸæ—¶é—´é»˜è®¤300ç§’
+/// @param deviceId è®¾å¤‡ID [å¯é€‰]
+/// @param completionHandler ç»“æœå›è°ƒ
++ (void)getToken:(nullable NSString *)deviceId callback:(IVNetCfgTokenCallback)completionHandler;
+
+/// è·å–äºŒç»´ç /AP é…ç½‘æ‰€éœ€è¦çš„é…ç½‘ Token, è‡ªå®šä¹‰tokenè¿‡æœŸæ—¶é—´
+/// @param deviceId è®¾å¤‡ID [å¯é€‰]
+/// @param expireTime è®¾å®štokenè¿‡æœŸæ—¶é—´(ç§’ï¼Œé»˜è®¤300)ï¼ŒèŒƒå›´[1,3600]
+/// @param completionHandler ç»“æœå›è°ƒ
++ (void)getToken:(nullable NSString *)deviceId expireTime:(NSUInteger)expireTime callback:(IVNetCfgTokenCallback)completionHandler;
+
+/// é€šè¿‡webç»‘å®šæˆåŠŸåï¼Œå¿«é€Ÿè®¢é˜…è®¾å¤‡
+/// @param token è®¢é˜…çš„è®¾å¤‡è®¿é—®token
+/// @param deviceId è®¾å¤‡ID
+/// @return æ˜¯å¦æˆåŠŸ
 + (BOOL)subscribeDeviceWithToken:(NSString *)token deviceId:(NSString *)deviceId;
 
 @end
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVNetwork_p2p.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVNetwork_p2p.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVNetwork_p2p.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVNetwork_p2p.h	2021-07-08 10:45:33.000000000 +0800
@@ -17,16 +17,26 @@
 
 /// æ¶ˆæ¯ç®¡ç†å•ä¾‹
 @property (class, nonatomic, strong, readonly) IVNetwork_p2p *sharedInstance;
+/// å›è°ƒçº¿ç¨‹ é»˜è®¤ä¸»çº¿ç¨‹
+@property (nonatomic, strong, nullable) dispatch_queue_t responseQueue;
 
 + (instancetype)sharedInstance;
 
 /// p2pä¸“ç”¨ç½‘ç»œè¯·æ±‚
-/// param methodType è¯·æ±‚æ–¹å¼: â€œGETâ€ã€â€œPOSTâ€ã€â€œPUTâ€
-/// param urlString è¯·æ±‚åœ°å€
-/// param params è¯·æ±‚å‚æ•°
-/// param response ç»“æœå›è°ƒ
+/// @param methodType è¯·æ±‚æ–¹å¼: â€œGETâ€ã€â€œPOSTâ€ã€â€œPUTâ€
+/// @param urlString è¯·æ±‚åœ°å€
+/// @param params è¯·æ±‚å‚æ•°
+/// @param response å›è°ƒ
 - (void)requestWithMethodType:(NSString * _Nonnull)methodType urlString:(NSString * _Nullable)urlString params:(NSDictionary<NSString *, id> * _Nullable)params response:(void (^ _Nullable)(NSString * _Nullable, NSError * _Nullable))response;
 
+/// p2pä¸“ç”¨ç½‘ç»œè¯·æ±‚
+/// @param methodType è¯·æ±‚æ–¹å¼: â€œGETâ€ã€â€œPOSTâ€ã€â€œPUTâ€
+/// @param urlString è¯·æ±‚åœ°å€
+/// @param params è¯·æ±‚å‚æ•°
+/// @param queue å›è°ƒçº¿ç¨‹ ä¸ä¼ åˆ™é»˜è®¤åœ¨å…¨å±€ global çº¿ç¨‹å›è°ƒ
+/// @param response å›è°ƒ
+- (void)requestWithMethodType:(NSString * _Nonnull)methodType urlString:(NSString * _Nullable)urlString params:(NSDictionary<NSString *, id> * _Nullable)params queue:(dispatch_queue_t _Nullable)queue response:(void (^ _Nullable)(NSString * _Nullable, NSError * _Nullable))response;
+
 @end
 
 NS_ASSUME_NONNULL_END
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVPlaybackPlayer.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVPlaybackPlayer.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVPlaybackPlayer.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVPlaybackPlayer.h	2021-07-08 10:45:33.000000000 +0800
@@ -47,7 +47,7 @@
 
 /// å›æ”¾æ–‡ä»¶è·å–å›è°ƒ
 typedef void (^PlaybackListCallback)(IVPlaybackPage<IVPlaybackItem *> *_Nullable page, NSError *_Nullable error);
-/// å›æ”¾æ—¥æœŸè·å–å›è°ƒï¼Œ0ç‚¹ï¼Œç”¨UTC+0è¡¨ç¤º
+/// å›æ”¾æ—¥æœŸè·å–å›è°ƒï¼ˆæ—¥æœŸä¸ºå½“å¤©0ç‚¹ï¼‰ï¼Œç”¨UTC+0è¡¨ç¤º
 typedef void (^PlaybackDateCallback)(IVPlaybackPage<NSNumber *> *_Nullable page, NSError *_Nullable error);
 
 /// å›æ”¾æ’­æ”¾å™¨
@@ -77,20 +77,22 @@
 
 /// è·å–ä¸€é¡µå›æ”¾æ–‡ä»¶åˆ—è¡¨
 /// @param deviceId è®¾å¤‡ID
-/// @param pageIndex é¡µç ç´¢å¼•ï¼Œè·å–æŒ‡å®šé¡µç çš„å›æ”¾æ–‡ä»¶ï¼ˆ pageIndexä»0å¼€å§‹é€’å¢ï¼‰
+/// @param pageIndex é¡µç ç´¢å¼•ï¼Œè·å–æŒ‡å®šé¡µç çš„å›æ”¾æ–‡ä»¶ï¼ˆ pageIndexä»0å¼€å§‹ï¼‰ï¼Œåœ¨æœªçŸ¥æ€»é¡µæ•°æƒ…å†µä¸‹ä¼ 0
 /// @param countPerPage åœ¨[startTime, endTime]æ—¶é—´èŒƒå›´å†…æŒ‰æ¯é¡µ`countPerPage`ä¸ªæ–‡ä»¶æŸ¥è¯¢ï¼Œæ¯æ¬¡è¿”å›ä¸€é¡µçš„æ•°æ®ï¼Œè¯¥å€¼ç”±APPè®¾ç½®ï¼Œå–å€¼èŒƒå›´[1, 3200]
 /// @param startTime å¼€å§‹æ—¶é—´æˆ³ï¼ˆç§’ï¼‰ï¼Œç”¨UTC+0è¡¨ç¤º
 /// @param endTime ç»“æŸæ—¶é—´æˆ³ï¼ˆç§’ï¼‰ï¼Œç”¨UTC+0è¡¨ç¤º
-/// @param filterType è¿‡æ»¤æ–‡ä»¶ç±»å‹, nilä¸ºä¸è¿‡æ»¤
+/// @param filterType ç­›é€‰æŒ‡å®šç±»å‹æ–‡ä»¶, nilä¸ºä¸ç­›é€‰
+/// @param ascendingOrder æ˜¯å¦æŒ‰æ—¶é—´é€’å¢é¡ºåº(å³ä»startTimeåˆ°endTimeæ–¹å‘)è·å–æ–‡ä»¶
 /// @param completionHandler ç»“æœå›è°ƒ
 /// @note âš ï¸è¯·æ ¹æ®å®é™…æƒ…å†µåˆç†è®¾ç½®æŸ¥è¯¢æ—¶é—´èŒƒå›´å’Œåˆ†é¡µï¼Œ`æ—¶é—´è·¨åº¦å¤ªé•¿`æˆ–`æ¯é¡µæ•°é‡è¿‡å¤§`ä¼šå¢åŠ è®¾å¤‡æŸ¥è¯¢æ—¶é—´ï¼Œ å»ºè®®[startTime, endTime]åŒºé—´ä¸è¶…è¿‡24å°æ—¶ æˆ– countPerPageä¸è¶…è¿‡1440ä¸ªæ–‡ä»¶.
-+ (void)getPlaybackListV2OfDevice:(NSString *)deviceId
-                        pageIndex:(uint32_t)pageIndex
-                     countPerPage:(uint32_t)countPerPage
-                        startTime:(NSTimeInterval)startTime
-                          endTime:(NSTimeInterval)endTime
-                       filterType:(nullable NSString *)filterType
-                completionHandler:(PlaybackListCallback)completionHandler;
++ (void)getPlaybackListOfDevice:(NSString *)deviceId
+                      pageIndex:(uint32_t)pageIndex
+                   countPerPage:(uint32_t)countPerPage
+                      startTime:(NSTimeInterval)startTime
+                        endTime:(NSTimeInterval)endTime
+                     filterType:(nullable NSString *)filterType
+                 ascendingOrder:(BOOL)ascendingOrder
+              completionHandler:(PlaybackListCallback)completionHandler;
 
 /// è·å–æœ‰å›æ”¾æ–‡ä»¶çš„æ—¥æœŸåˆ—è¡¨
 /// @param deviceId è®¾å¤‡ID
@@ -152,7 +154,25 @@
 
 @interface IVPlaybackPlayer (Deprecated)
 
-/// è·å–ä¸€é¡µå›æ”¾æ–‡ä»¶åˆ—è¡¨
+/// è·å–ä¸€é¡µå›æ”¾æ–‡ä»¶åˆ—è¡¨ï¼ˆå·²è¿‡æœŸï¼‰
+/// @param deviceId è®¾å¤‡ID
+/// @param pageIndex é¡µç ç´¢å¼•ï¼Œè·å–æŒ‡å®šé¡µç çš„å›æ”¾æ–‡ä»¶ï¼ˆ pageIndexä»0å¼€å§‹é€’å¢ï¼‰
+/// @param countPerPage åœ¨[startTime, endTime]æ—¶é—´èŒƒå›´å†…æŒ‰æ¯é¡µ`countPerPage`ä¸ªæ–‡ä»¶æŸ¥è¯¢ï¼Œæ¯æ¬¡è¿”å›ä¸€é¡µçš„æ•°æ®ï¼Œè¯¥å€¼ç”±APPè®¾ç½®ï¼Œå–å€¼èŒƒå›´[1, 3200]
+/// @param startTime å¼€å§‹æ—¶é—´æˆ³ï¼ˆç§’ï¼‰ï¼Œç”¨UTC+0è¡¨ç¤º
+/// @param endTime ç»“æŸæ—¶é—´æˆ³ï¼ˆç§’ï¼‰ï¼Œç”¨UTC+0è¡¨ç¤º
+/// @param filterType è¿‡æ»¤æ–‡ä»¶ç±»å‹, nilä¸ºä¸è¿‡æ»¤
+/// @param completionHandler ç»“æœå›è°ƒ
+/// @note âš ï¸è¯·æ ¹æ®å®é™…æƒ…å†µåˆç†è®¾ç½®æŸ¥è¯¢æ—¶é—´èŒƒå›´å’Œåˆ†é¡µï¼Œ`æ—¶é—´è·¨åº¦å¤ªé•¿`æˆ–`æ¯é¡µæ•°é‡è¿‡å¤§`ä¼šå¢åŠ è®¾å¤‡æŸ¥è¯¢æ—¶é—´ï¼Œ å»ºè®®[startTime, endTime]åŒºé—´ä¸è¶…è¿‡24å°æ—¶ æˆ– countPerPageä¸è¶…è¿‡1440ä¸ªæ–‡ä»¶.
+/// @deprecated Use `-getPlaybackListOfDevice:pageIndex:countPerPage:startTime:endTime:filterType:ascendingOrder:completionHandler:` instead.
++ (void)getPlaybackListV2OfDevice:(NSString *)deviceId
+                        pageIndex:(uint32_t)pageIndex
+                     countPerPage:(uint32_t)countPerPage
+                        startTime:(NSTimeInterval)startTime
+                          endTime:(NSTimeInterval)endTime
+                       filterType:(nullable NSString *)filterType
+                completionHandler:(PlaybackListCallback)completionHandler API_DEPRECATED("Use -getPlaybackListOfDevice:pageIndex:countPerPage:startTime:endTime:filterType:ascendingOrder:completionHandler: instead", ios(2.0,9.0));
+
+/// è·å–ä¸€é¡µå›æ”¾æ–‡ä»¶åˆ—è¡¨ï¼ˆå·²è¿‡æœŸï¼‰
 /// @param deviceId è®¾å¤‡ID
 /// @param pageIndex é¡µç ç´¢å¼•ï¼Œè·å–æŒ‡å®šé¡µç çš„å›æ”¾æ–‡ä»¶ï¼ˆ pageIndexä»0å¼€å§‹é€’å¢ï¼‰
 /// @param countPerPage åœ¨[startTime, endTime]æ—¶é—´èŒƒå›´å†…æŒ‰æ¯é¡µ`countPerPage`ä¸ªæ–‡ä»¶æŸ¥è¯¢ï¼Œæ¯æ¬¡è¿”å›ä¸€é¡µçš„æ•°æ®ï¼Œè¯¥å€¼ç”±APPè®¾ç½®ï¼Œå–å€¼èŒƒå›´[1, 900]
@@ -160,13 +180,13 @@
 /// @param endTime ç»“æŸæ—¶é—´æˆ³ï¼ˆç§’ï¼‰
 /// @param completionHandler ç»“æœå›è°ƒ
 /// @note âš ï¸è¯·æ ¹æ®å®é™…æƒ…å†µåˆç†è®¾ç½®æŸ¥è¯¢æ—¶é—´èŒƒå›´å’Œåˆ†é¡µï¼Œ`æ—¶é—´è·¨åº¦å¤ªé•¿`æˆ–`æ¯é¡µæ•°é‡è¿‡å¤§`ä¼šå¢åŠ è®¾å¤‡æŸ¥è¯¢æ—¶é—´ï¼Œ å»ºè®®[startTime, endTime]åŒºé—´ä¸è¶…è¿‡12å°æ—¶ æˆ– countPerPageä¸è¶…è¿‡720ä¸ªæ–‡ä»¶.
-/// @deprecated Use `-getPlaybackListV2OfDevice:pageIndex:countPerPage:startTime:endTime:completionHandler:` instead.
+/// @deprecated Use `-getPlaybackListOfDevice:pageIndex:countPerPage:startTime:endTime:filterType:ascendingOrder:completionHandler:` instead.
 + (void)getPlaybackListOfDevice:(NSString *)deviceId
                       pageIndex:(uint32_t)pageIndex
                    countPerPage:(uint32_t)countPerPage
                       startTime:(NSTimeInterval)startTime
                         endTime:(NSTimeInterval)endTime
-              completionHandler:(PlaybackListCallback)completionHandler API_DEPRECATED("Use -getPlaybackListV2OfDevice:pageIndex:countPerPage:startTime:endTime:filterType:completionHandler: instead", ios(2.0,9.0));
+              completionHandler:(PlaybackListCallback)completionHandler API_DEPRECATED("Use -getPlaybackListOfDevice:pageIndex:countPerPage:startTime:endTime:filterType:ascendingOrder:completionHandler: instead", ios(2.0,9.0));
 
 @end
 
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVPlayer.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVPlayer.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVPlayer.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVPlayer.h	2021-07-08 10:45:33.000000000 +0800
@@ -59,20 +59,14 @@
 
 /// SDå¡å›æ”¾æ–‡ä»¶æ’­æ”¾ç»“æŸ
 /// @param player æ’­æ”¾å™¨å®ä¾‹
-/// @param fileTime å³å°†æ’­æ”¾çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¼€å§‹æ—¶é—´ï¼‰
+/// @param fileTime æ’­æ”¾ç»“æŸçš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¼€å§‹æ—¶é—´ï¼‰
 /// @param error  nilï¼šæ­£å¸¸å®Œæˆï¼Œ énilï¼šæ’­æ”¾é”™è¯¯
 - (void)player:(IVPlayer *)player didEndOfFile:(NSTimeInterval)fileTime error:(nullable NSError *)error;
 
-/// SDå¡å›æ”¾æ–‡ä»¶æ’­æ”¾ç»“æŸ
-/// @param player æ’­æ”¾å™¨å®ä¾‹
-/// @param startTime å½“å‰æ’­æ”¾ç»“æŸçš„æ–‡ä»¶çš„å¼€å§‹æ—¶é—´
-/// @deprecated Use `-player:didEndOfFile:error:` instead
-- (void)player:(IVPlayer *)player didFinishPlaybackFile:(NSTimeInterval)startTime API_DEPRECATED("Use -player:didEndOfFile:error: instead", ios(2.0,9.0));
-
-/// è§‚ä¼—äººæ•°å˜æ›´
+/// è§‚çœ‹äººæ•°å˜æ›´
 /// @param player æ’­æ”¾å™¨å®ä¾‹
-/// @param audience è§‚ä¼—äººæ•°
-- (void)player:(IVPlayer *)player didUpdateAudience:(NSInteger)audience;
+/// @param viewerNum è§‚çœ‹äººæ•°
+- (void)player:(IVPlayer *)player didUpdateViewerNum:(NSInteger)viewerNum ;
 
 /// å¯¹è®²äººæ•°å˜æ›´
 /// @param player æ’­æ”¾å™¨å®ä¾‹
@@ -89,6 +83,19 @@
 /// @param avHeader éŸ³è§†é¢‘å¤´ä¿¡æ¯
 - (void)player:(IVPlayer *)player didReceiveAVHeader:(IVAVHeader)avHeader;
 
+#pragma mark - Deprecated
+
+/// SDå¡å›æ”¾æ–‡ä»¶æ’­æ”¾ç»“æŸï¼ˆå·²è¿‡æœŸï¼‰
+/// @param player æ’­æ”¾å™¨å®ä¾‹
+/// @param startTime å½“å‰æ’­æ”¾ç»“æŸçš„æ–‡ä»¶çš„å¼€å§‹æ—¶é—´
+/// @deprecated Use `-player:didEndOfFile:error:` instead
+- (void)player:(IVPlayer *)player didFinishPlaybackFile:(NSTimeInterval)startTime API_DEPRECATED("Use -player:didEndOfFile:error:", ios(2.0,9.0));
+
+/// è§‚ä¼—äººæ•°å˜æ›´ï¼ˆå·²è¿‡æœŸï¼‰
+/// @param player æ’­æ”¾å™¨å®ä¾‹
+/// @param audience è§‚ä¼—äººæ•°
+/// @deprecated Use `-player:didUpdateViewerNum:` instead
+- (void)player:(IVPlayer *)player didUpdateAudience:(NSInteger)audience API_DEPRECATED("Use -player:didUpdateViewerNum: instead", ios(2.0,9.0));
 @end
 
 #pragma mark - å¯¹è®²åè®®
@@ -230,6 +237,12 @@
 /// @param completionHandler å®Œæˆå›è°ƒ
 - (void)startRecording:(NSString *)savePath completionHandler:(void(^)(NSString * _Nullable savePath, NSError * _Nullable error))completionHandler;
 
+/// å¼€å§‹å½•åƒ, å¸¦æ—¶é•¿å›è°ƒ
+/// @param savePath å½•åƒæ–‡ä»¶è·¯å¾„
+/// @param durationCallback æ—¶é•¿å›è°ƒ
+/// @param completionHandler å®Œæˆå›è°ƒ
+- (void)startRecording:(NSString *)savePath durationCallback:(void(^)(NSTimeInterval duration))durationCallback completionHandler:(void(^)(NSString * _Nullable savePath, NSError * _Nullable error))completionHandler;
+
 /// åœæ­¢å½•åƒ
 - (void)stopRecording;
 
@@ -240,6 +253,13 @@
 /// @return å‘é€æ˜¯å¦æˆåŠŸ
 - (BOOL)sendData:(NSData *)data;
 
+/// å‘é€è‡ªå®šä¹‰æ•°æ®
+/// @param data è¦å‘é€çš„æ•°æ®ï¼Œdata.lengthä¸èƒ½è¶…è¿‡`MAX_PKG_BYTES`
+/// @param sequence æ˜¯å¦ä¸²è¡Œå‘é€
+/// @param callback å®Œæˆå›è°ƒã€‚callbackénilåˆ™é€šè¿‡callbackå›è°ƒï¼›callbackä¸ºnilåˆ™é€šè¿‡ä»£ç†å›è°ƒï¼›
+- (BOOL)sendData:(nullable NSData *)data sequence:(BOOL)sequence multiCallback:(nullable IVMsgMultiRspCallback)callback;
+
+
 #pragma mark - è§£ç å™¨/æ¸²æŸ“å™¨/å½•åˆ¶å™¨
 
 /// éŸ³é¢‘è§£ç å™¨, é»˜è®¤ä¸º `IVAudioDecoder`
@@ -260,7 +280,26 @@
 
 #pragma mark - DEBUG
 
-// æ’­æ”¾å™¨è°ƒè¯•æ¨¡å¼ï¼Œé»˜è®¤`NO`ã€‚è‹¥è®¾ä¸º`YES`åˆ™åœ¨ç¼–/è§£ç æ—¶å°†éŸ³è§†é¢‘æ•°æ®å†™å…¥Documentæ ¹ç›®å½•ï¼Œâš ï¸å¼€å¯å¯èƒ½ä¼šå¯¼è‡´å¡é¡¿ã€‚
+/// æ’­æ”¾å™¨è°ƒè¯•æ¨¡å¼ï¼Œé»˜è®¤`NO`ã€‚è‹¥è®¾ä¸º`YES`åˆ™åœ¨ç¼–/è§£ç æ—¶å°†éŸ³è§†é¢‘æ•°æ®å†™å…¥Documentæ ¹ç›®å½•ã€‚è¯´æ˜æ–‡æ¡£: Docs/æŠ“å–éŸ³è§†é¢‘æµæ–¹æ³•.md
+/// @note âš ï¸å¼€å¯å¯èƒ½ä¼šå¯¼è‡´å¡é¡¿ã€‚
+/// @code
+///  æ’­æ”¾ç›¸å…³éŸ³é¢‘æ–‡ä»¶:
+///  au_rcv_in   éŸ³é¢‘ æ¥æ”¶å™¨ è¾“å…¥æµ
+///  au_dec_in   éŸ³é¢‘ è§£ç å™¨ è¾“å…¥æµ
+///  au_dec_out  éŸ³é¢‘ è§£ç å™¨ è¾“å‡ºæµ
+///
+///  æ’­æ”¾ç›¸å…³è§†é¢‘æ–‡ä»¶:
+///  vi_rcv_in   è§†é¢‘ æ¥æ”¶å™¨ è¾“å…¥æµ
+///  vi_dec_in   è§†é¢‘ è§£ç å™¨ è¾“å…¥æµ
+///
+///  å¯¹è®²ç›¸å…³éŸ³é¢‘æ–‡ä»¶:
+///  au_fill_in  éŸ³é¢‘ é‡‡é›†å™¨ è¾“å‡ºæµ
+///  au_enc_in   éŸ³é¢‘ ç¼–ç å™¨ è¾“å…¥æµ
+///  au_enc_out  éŸ³é¢‘ ç¼–ç å™¨ è¾“å‡ºæµ
+///
+///  åŒå‘è§†é¢‘é€šè¯ç›¸å…³æ–‡ä»¶:
+///  vi_enc_out  è§†é¢‘ ç¼–ç å™¨ è¾“å‡ºæµ
+/// @endcode
 @property (class, nonatomic, assign, readwrite) BOOL debugMode;
 
 @end
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVQRCodeNetConfig.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVQRCodeNetConfig.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVQRCodeNetConfig.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVQRCodeNetConfig.h	2021-07-08 10:45:33.000000000 +0800
@@ -69,7 +69,7 @@
 /// @param name wifi SSID
 /// @param pwd wifiå¯†ç 
 /// @param language è®¾å¤‡è¯­è¨€
-/// @param token é…ç½‘Token
+/// @param token é…ç½‘Tokenï¼Œé€šè¿‡`+[IVNetConfig getToken:]`åŠ`+[IVNetConfig getToken:callback:]`è·å–
 /// @param extraInfo é¢å¤–è‡ªå®šä¹‰æ‰©å±•ä¿¡æ¯
 /// @param size äºŒç»´ç å¤§å°
 /// @return äºŒç»´ç å›¾ç‰‡
@@ -96,7 +96,7 @@
 /// @param pwd wifiå¯†ç 
 /// @param reserve å¹³å°ä¿ç•™ å‚å•†è¯·ä½¿ç”¨ä¸Šé¢çš„æ¥å£ï¼Œæˆ–ä¼ nil
 /// @param language è®¾å¤‡è¯­è¨€
-/// @param token é…ç½‘Token
+/// @param token é…ç½‘Tokenï¼Œé€šè¿‡`+[IVNetConfig getToken:]`åŠ`+[IVNetConfig getToken:callback:]`è·å–
 /// @param extraInfo é¢å¤–è‡ªå®šä¹‰æ‰©å±•ä¿¡æ¯
 /// @param size äºŒç»´ç å¤§å°
 /// @return äºŒç»´ç å›¾ç‰‡
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVUtils.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVUtils.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IVUtils.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IVUtils.h	2021-07-08 10:45:33.000000000 +0800
@@ -11,6 +11,22 @@
 
 #import <Foundation/Foundation.h>
 
+/// uint8_t *è½¬åå…­è¿›åˆ¶NSString
+///
+/// ä»…è½¬æ¢å‰100ä¸ªå­—èŠ‚ï¼Œè¶…è¿‡éƒ¨åˆ†çœç•¥ï¼Œå½¢å¦‚ {length=195, bytes=0x00000000 00000000 00000000...}
+/// @param bytes è¦è½¬æ¢çš„bytes
+/// @param len bytesé•¿åº¦
+/// @return bytesçš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²
+extern NSString *convertBytesToHexStr(const uint8_t *bytes, uint32_t len);
+
+/// uint8_t *è½¬åå…­è¿›åˆ¶NSString
+///
+/// ä»…è½¬æ¢å‰maxLenä¸ªå­—èŠ‚ï¼Œè¶…è¿‡éƒ¨åˆ†çœç•¥ï¼Œå½¢å¦‚ {length=195, bytes=0x00000000 00000000 00000000...}
+/// @param bytes è¦è½¬æ¢çš„bytes
+/// @param len bytesé•¿åº¦
+/// @return bytesçš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²
+extern NSString *convertBytesToHexStr2(const uint8_t *bytes, uint32_t len, uint32_t maxLen);
+
 /// NSDataè½¬åå…­è¿›åˆ¶NSString
 ///
 /// ä»…è½¬æ¢å‰100ä¸ªå­—èŠ‚ï¼Œè¶…è¿‡éƒ¨åˆ†çœç•¥ï¼Œå½¢å¦‚ {length=195, bytes=0x00000000 00000000 00000000...}
@@ -24,7 +40,7 @@
 /// ä»…è½¬æ¢å‰maxLenä¸ªå­—èŠ‚ï¼Œè¶…è¿‡éƒ¨åˆ†çœç•¥ï¼Œå½¢å¦‚ {length=195, bytes=0x00000000 00000000 00000000...}
 /// @param data è¦è½¬æ¢çš„data
 /// @return dataçš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²
-NSString *convertDataToHexStr2(NSData *data, uint32_t maxLen);
+extern NSString *convertDataToHexStr2(NSData *data, uint32_t maxLen);
 
 /// è®¡ç®—ä»»æ„æ—¶é—´å½“å¤©å¼€å§‹æ—¶é—´
 ///
diff -r -u ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IoTVideo.h ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IoTVideo.h
--- ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Headers/IoTVideo.h	2021-06-18 15:05:37.000000000 +0800
+++ ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Headers/IoTVideo.h	2021-07-08 10:45:33.000000000 +0800
@@ -35,8 +35,8 @@
 
 
 /* âš ï¸Automatically generated by script, do not manually edit! */
-#define kIoTVideoVersion "1.4(200d) Release" /* Commit:f982911 */
-#define kIoTVideoCompileDate "2021-06-18 14:52:55"
+#define kIoTVideoVersion "1.4(2070) Debug" /* Commit:1f1d31f */
+#define kIoTVideoCompileDate "2021-07-08 10:45:01"
 
 
 
@@ -58,7 +58,7 @@
 
 @optional
 
-/// æ—¥å¿—è¾“å‡ºå›è°ƒ
+/// æ—¥å¿—è¾“å‡ºå›è°ƒï¼ˆå·²è¿‡æœŸï¼‰
 /// @param message  æ—¥å¿—ä¿¡æ¯
 /// @param level  æ—¥å¿—çº§åˆ«, è¯¦è§IVLogLevel
 /// @param file  æ–‡ä»¶å
Binary files ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/Info.plist and ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/Info.plist differ
Binary files ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks/IoTVideo.framework/IoTVideo and ./v1.4(2070)-Debug/IoTVideo-iOS-v1.4(2070)-Debug/SDK/Frameworks/IoTVideo.framework/IoTVideo differ
Only in ./v1.4(200d)-Release/IoTVideo-iOS-v1.4(200d)-Release/SDK/Frameworks: x86.7z
